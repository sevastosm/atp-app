"use strict";(self.webpackChunkatp_app=self.webpackChunkatp_app||[]).push([[198],{3198:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var a=t(8870),r=t(1614),i=t(7621),c=t(6907),s=t(6934),o=t(9141),l=t(8214),u=t(5861),d=t(4942),p=t(1413),h=t(9439),g=t(890),x=t(1889),f=t(8550),m=t(6151),Z=t(6871),b=t(2791),j=t(167),v=t(9478),w=function(n,e){return(0,j.tn)(e),j.be.post(v.h+"/auth/login",n)},y=t(1659),k=t(184);(0,s.ZP)(g.Z)((function(n){var e=n.theme;return"\n    font-size: ".concat(e.typography.pxToRem(50),";\n")})),(0,s.ZP)(g.Z)((function(n){var e=n.theme;return"\n    font-size: ".concat(e.typography.pxToRem(17),";\n")})),(0,s.ZP)(a.Z)((function(n){var e=n.theme;return"\n    background-color: ".concat(e.colors.success.main,";\n    color: ").concat(e.palette.success.contrastText,";\n    font-weight: bold;\n    border-radius: 30px;\n    text-transform: uppercase;\n    display: inline-block;\n    font-size: ").concat(e.typography.pxToRem(11),";\n    padding: ").concat(e.spacing(.5)," ").concat(e.spacing(1.5),";\n    margin-bottom: ").concat(e.spacing(2),";\n")})),(0,s.ZP)(a.Z)((function(n){var e=n.theme;return"\n    width: ".concat(e.spacing(8),";\n    height: ").concat(e.spacing(8),";\n    border-radius: ").concat(e.general.borderRadius,";\n    background-color: #e5f7ff;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto ").concat(e.spacing(2),";\n\n    img {\n      width: 60%;\n      height: 60%;\n      display: block;\n    }\n")})),(0,s.ZP)(a.Z)((function(n){var e=n.theme;return"\n    width: ".concat(e.spacing(8),";\n    height: ").concat(e.spacing(8),";\n    border-radius: ").concat(e.general.borderRadius,";\n    background-color: #dfebf6;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto ").concat(e.spacing(2),";\n\n    img {\n      width: 60%;\n      height: 60%;\n      display: block;\n    }\n")}));var P=function(){var n=b.useContext(y.I),e=n.setMessage,t=n.setAuth,a=n.setLogedInUser,i=n.setSelectedRow,c=b.useState({}),s=(0,h.Z)(c,2),o=s[0],j=s[1],v=(0,Z.s0)(),P=function(n){var e=n.target.name,t=n.target.value;j((0,p.Z)((0,p.Z)({},o),{},(0,d.Z)({},e,t)))},C=function(){var n=(0,u.Z)((0,l.Z)().mark((function n(r){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(o,e).then(function(){var n=(0,u.Z)((0,l.Z)().mark((function n(e){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("handleLogin",e),n.next=3,localStorage.setItem("token",e.data.token);case 3:t(!0),a(e.data.user.role),i(e.data.user),"admin"===e.data.user.role?v("/management/accounts",{replace:!1}):v("/profile/nutrition",{replace:!1});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,k.jsx)(r.Z,{maxWidth:"sm",sx:{textAlign:"center"},children:(0,k.jsxs)(x.ZP,{spacing:{xs:3},justifyContent:"center",alignItems:"center",container:!0,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,mx:"auto",children:[(0,k.jsx)(g.Z,{sx:{mb:2},variant:"h1"}),(0,k.jsx)(f.Z,{required:!0,id:"email",label:"Email",value:o.email||"",name:"email",onChange:P})]}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(f.Z,{id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",value:o.password||"",name:"password",onChange:P})}),(0,k.jsx)(x.ZP,{item:!0,xs:12,children:(0,k.jsx)(m.Z,{onClick:C,size:"large",variant:"contained",children:"Log in"})})]})})},C=(0,s.ZP)(a.Z)((function(){return"\n    overflow: auto;\n    flex: 1;\n    overflow-x: hidden;\n    align-items: center;\n    display:flex;\n    height: 100%;\n"}));var I=function(){return(0,k.jsxs)(C,{sx:{background:"#11192a"},children:[(0,k.jsx)(c.ql,{children:(0,k.jsx)("title",{children:"ATP-app"})}),(0,k.jsxs)(r.Z,{maxWidth:"sm",sx:{alignItems:"center"},children:[(0,k.jsx)(a.Z,{sx:{mb:5},display:"flex",justifyContent:"center",alignItems:"center",children:(0,k.jsx)(o.Z,{})}),(0,k.jsx)(a.Z,{children:(0,k.jsx)(i.Z,{sx:{padding:1,maxWidth:"300px",margin:"0 auto"},children:(0,k.jsx)(P,{})})})]})]})}}}]);
//# sourceMappingURL=198.ece22d0f.chunk.js.map